<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.keymanager.monitoring.dao.ApplyKeywordDao">
    <delete id="deleteapplyKeywordInfo">
        DELETE FROM t_apply_keyword WHERE fApplyUuid = #{applyUuid}
    </delete>
    <select id="getKeywordApplyUuid" resultType="java.lang.String">
        SELECT
          ak.fKeyword AS 'keyword'
        FROM
          t_apply_keyword ak
        WHERE
          ak.fApplyUuid = #{applyUuid}
    </select>

    <select id="selectApplyKeyword" resultType="com.keymanager.monitoring.entity.ApplyKeyword">
        SELECT
         ak.fUuid AS 'uuid',
         ak.fKeyword AS 'keyword',
         ak.fApplyUuid AS 'applyUuid',
         ak.fBrushNumber AS 'brushNumber'
        FROM
          t_apply_keyword ak
        WHERE
          ak.fKeyword = #{keyword}
        and
          ak.fApplyUuid = #{applyUuid}
    </select>

    <select id="searchApplyKeyword" resultType="com.keymanager.monitoring.entity.ApplyKeyword">
        SELECT
         ak.fUuid AS 'uuid',
         ak.fKeyword AS 'keyword',
         ak.fApplyUuid AS 'applyUuid',
         ak.fApplyName AS 'applyName',
         ak.fBrushNumber AS 'brushNumber'
       FROM
          t_apply_keyword ak
       WHERE 1=1
        <if test="applyKeywordCriteria.keyword != null and applyKeywordCriteria.keyword != ''">
            AND ak.fKeyword like '%${applyKeywordCriteria.keyword}%'
        </if>
        <if test="applyKeywordCriteria.applyName != null and applyKeywordCriteria.applyName != ''">
            AND ak.fApplyName like '%${applyKeywordCriteria.applyName}%'
        </if>

    </select>
</mapper>